#!/bin/bash

# GET GIT BRANCH IF ONE EXISTS
git_branch() {
    git branch 2>/dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/ (\1)/'
}

# GET VIRTUALENV IF ONE EXISTS
virtualenv_info(){
    if [[ -n "$VIRTUAL_ENV" ]]; then
        # Strip out the path and just leave the env name
        venv="${VIRTUAL_ENV##*/}"
    else
        # In case you don't have one activated
        venv=''
    fi
    [[ -n "$venv" ]] && echo "($venv) "
}

# DISABLE STANDARD VIRTUALENV PROMPT CHANGE
export VIRTUAL_ENV_DISABLE_PROMPT=1

# TERMINAL PROMPT
PS1="\[\e[0;92m\]\$(virtualenv_info)\[\e[m\]" # current virtual environment 
PS1+="[" # start bracket containing username, directory, branch
PS1+="\[\e[0;93m\]\u\[\e[m\]" # username
PS1+=" " # space
PS1+="\[\e[0;95m\]\W\[\e[m\]" # current directory
PS1+="\[\e[0;92m\]\$(git_branch)\[\e[m\]" # current branch
PS1+="]" # end bracket containing username, directory, branch
PS1+="$ " # end prompt
export PS1;
export CLICOLOR=1
export LSCOLORS=ExFxBxDxCxegedabagacad
